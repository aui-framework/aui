# options: https://clang.llvm.org/docs/ClangFormatStyleOptions.html
BasedOnStyle: Google
IndentWidth: 4
ColumnLimit: 120
# does (int) x instead of (int)x
SpaceAfterCStyleCast: true
# spaces, not tabs!
UseTab: Never
# if (x) doStuff()  is not allowed, bad style
AllowShortIfStatementsOnASingleLine: false
AlignTrailingComments: true
SpacesBeforeTrailingComments: 3
AlignConsecutiveMacros: Consecutive

# use \n instead of \r\n
UseCRLF: false

AccessModifierOffset: -4
EmptyLineBeforeAccessModifier: Always
EmptyLineAfterAccessModifier: Never

NamespaceIndentation: None
BreakConstructorInitializers: BeforeComma

# we have some problems with ranges-v3 and AUI's AUI_LET, so keep it disabled
SortIncludes: Never


################################################# UI BUILDING ##########################################################

# use shorter indentation for UI building stuff (like in Dart/Flutter)
BracedInitializerIndentWidth: 2
ConstructorInitializerIndentWidth: 2

# better spacing around AUI_WITH_STYLE and AUI_LET.
# before:
# view AUI_WITH_STYLE{Expanding()},
# view AUI_LET{printf("Hello");},
#
# after:
# view AUI_WITH_STYLE { Expanding() },
# view AUI_LET { printf("Hello"); },
Cpp11BracedListStyle: false
SpaceBeforeCpp11BracedList: true

# forces nested initializer lists to begin with their own lines.
# note: you should use comma after last element in initializer lists.
# before:
# Centered { Horizontal {
#
# after:
# Centered {
#   Horizontal {
PenaltyIndentedWhitespace: 1000
BreakBeforeBraces: Attach
BreakBeforeBinaryOperators: None
  
StatementAttributeLikeMacros:
  - emit

# fix AUI's scary macros.
Macros:
  - AUI_LET=+[]
  - AUI_THREADPOOL=[]
  - AUI_DECLARATIVE_FOR(a,b,c)=[v2=b,v3=c](a)
  - AUI_DECLARATIVE_FOR_EX(a,b,c,d)=[d,v2=b,v3=c](a)
  - AUI_WITH_STYLE=+std::vector
