cmake_minimum_required(VERSION 3.10)

aui_module(aui.xml EXPORT aui)

if(MSVC AND AUI_BUILD_FOR STREQUAL "winxp")
    include(../WinXPuseLTL5.cmake)
    aui_link(aui.xml PRIVATE aui::core YY_Thunks)
    if(BUILD_SHARED_LIBS)
        set_target_properties(aui.xml PROPERTIES LINK_FLAGS "/SUBSYSTEM:CONSOLE,5.01 /SUBSYSTEM:WINDOWS,5.01 /ENTRY:DllMainCRTStartupForYY_Thunks")
    else()
        set_target_properties(aui.xml PROPERTIES LINK_FLAGS "/SUBSYSTEM:CONSOLE,5.01 /SUBSYSTEM:WINDOWS,5.01")
    endif()
else()
    aui_link(aui.xml PRIVATE aui::core)
endif()
